<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>fixed</title>
	<style>
	html,body{
		height: 100%;
		margin: 0;
	}
	body{
		display: flex;
		flex-direction: column;
	}
	.header{
		height: 64px;
		border-bottom: 1px solid #eee;
	}
	.body{
		flex: 1;
		display: flex;
	}
	.nav{
		width: 200px;
		border-right: 1px solid #eee;
	}
	#box{
		flex: 1;
	}
	</style>
</head>
<body>
	<div class="header">header</div>
	<div class="body">
		<div class="nav">nav</div>
		<div id="box"></div>
	</div>
	<script src="https://cdn.jsdelivr.net/npm/vue@2.6.10/dist/vue.js"></script>
	<script src="/STable.min.js"></script>
	<!-- <script>
	STable.init({
		el: '#box',
		url: '/ajaxWaterfall',
		pageMode: 'waterfall',
		columns: [
			'name',
			'movieType',
			{
				dataIndex: 'actors',
				text: 'actors'
			}
		],
		sublistAt: ['actors'],
		downloadable: true,
		toolbar: [
			{
				text:'hoho',
				id: 'e12',
				click(){
					console.log(this.getToolbarBtn('e12'));
				}
			}
		]
	});
	</script> -->
	<script>
	STable.init({
		el: '#box',
		title: '测试用例',
		titleVisible: true,
		tip: '此数据来自时光网',
		url: '/ajaxList',
		rowNumberVisible: true,
		selectMode: 'single',
		ajaxSetting: {
			contentType: 'application/x-www-form-urlencoded'
		},
		// searchFilter: [
		// {
		// 	type: 'input',
		// 	label: '姓名',
		// 	name: 'uname',
		// 	value: 'pjc',
		// 	required: true
		// },
		// {
		// 	type: 'input',
		// 	label: '年龄',
		// 	name: 'age',
		// 	value: '25',
		// 	required: true
		// },
		// {
		// 	type: 'combobox',
		// 	label: '影片类型',
		// 	name: 'selectname',
		// 	options: [
		// 		{value: 'xiju',label: '喜剧'},
		// 		{value: 'xuanyi',label: '悬疑'}
		// 	],
		// }
		// ],
		searchFilter: [
			{
				label: '名字',
				name: 'name',
				type: 'text',
				width: '300',
				icon: 'st-icon st-icon-plus',
				actionUrl: 'http://backend.inagora.org/'
			},
			{
				name: 'movieType',
				label: '影片类型',
				type: 'cascader',
				options: [
					{
						label: '爱情',
						value: 'type1'
					},
					{
						label: '悬疑',
						value: 'type2'
					},
					{
						label: '恐怖',
						value: 'type3'
					}
				]
			},
			{
				name: 'movieType',
				label: '影片类型',
				type: 'multiple',
				value: 'type1',
				list: ['type1', 'type2']
			},
			{
				name: 'movieType',
				label: '影片类型',
				type: 'combobox',
				list: [
					{
						text: '爱情',
						value: 'type1'
					},
					{
						text: '悬疑',
						value: 'type2'
					},
					{
						text: '恐怖',
						value: 'type3'
					}
				]
			},
			{
				name: 'movieType',
				label: '影片类型',
				type: 'cascader',
				list: [
					{
						text: '爱情',
						value: 'type1',
						list: [
							{
								text: '爱情',
								value: 'type1',
							},
							{
								text: '悬疑',
								value: 'type2'
							},
							{
								text: '恐怖',
								value: 'type3'
							}
						]
					},
					{
						text: '悬疑',
						value: 'type2'
					},
					{
						text: '恐怖',
						value: 'type3'
					}
				]
			},
			{
				name: 'movieAward',
				label: '奖项',
				type: 'checkbox', 
				options: [
					{
						label: '奥斯卡',
						value: 'Oscar',
						ischecked: true
					},
					{
						label: '戛纳',
						value: 'Cannes'
					},
					{
						label: '柏林',
						value: 'Berlin'
					}
				]
			},
			{
				label: '上映时间(起)',
				name: 'stime',
				type: 'date',
				dateConfig: {
					dateFormat: 'Y/m/d H:i:S',
					defaultDate: '2020-02-14 10:00:00'
				}
			},
			{
				label: '上映时间(终)',
				name: 'etime',
				type: 'date'
			}
		],
		// searchFilter: {
		// 	name: '名称',
		// 	age: '年龄',
		// 	sex: '性别'
		// },
		columns: [
			{
				header: 'id',
				dataIndex:'id',
				width: 100,
				locked: true,
				sortable: true
			},
			// {
			// 	header: '海报',
			// 	dataIndex: 'img',
			// 	width: 120,
			// 	render(record){
			// 		let img = record.img;
			// 		return `<div class="poster" style="background-image:url(${img.replace(/_\d+X\d+(X2)?\.jpg/,'_640X360X2.jpg')})"></div>`;
			// 	}
			// },
			{
				header: '名字',
				dataIndex: 'name',
				width: 200,
				cellWrap: true,
				style: {
					color: 'green'
				},
				cls: 'lalala'
			},{
				header: '评分',
				dataIndex: 'rating',
				width: 100,
				fx: 'average',
				sortable: true
			},{
				header: '影片类型影片类型',
				dataIndex: 'movieType'
			},
			{
				header: '导演',
				dataIndex: 'directors',
				width: 250,
				render(record){
					return record.directors.join(' | ');
				}
			},{
				header: '主演',
				dataIndex: 'actors',
				cellWrap: true,
				width: 250,
				render(record){
					return record.actors.join(' | ');
				}
			},
			{
				header: '国家',
				dataIndex: 'locationName',
				width: 280
			},{
				header: '上映时间',
				dataIndex: 'year',
				width: 280,
				locked: 'right'
			},
			{
				header: 'btns',
				width: 100,
				buttons: [{
					text: 'fff',
					click(r,b,e){
						console.log(this);
						console.log(r);
						console.log(b);
						console.log(e);
					},
					icon: 'st-iconfont st-icon-eye',
				}]
			}
			// ,{
			// 	header: '其它名字',
			// 	width: 500,
			// 	cellWrap: true,
			// 	dataIndex: 'titleOthersCn'
			// }
		],
		toolbar: [
			{text:'abc'},
			{text:'测试', size:'large'},
			{text:'测试', size:'large', icon:'st-iconfont st-icon-lock'},
			{text:'测试', type: 'primary', size:'large'},
			{text:'测试', type: 'primary', size:'large', icon:'st-iconfont st-icon-lock'},
			{text:'测试', type: 'primary',},
			{text:'测试', type: 'primary', icon:'st-iconfont st-icon-lock'},
			{text:'测试', type: 'success', size:'small'},
			{text:'测试', type: 'success', size:'small', icon:'st-iconfont st-icon-lock'},
			{text:'测试', type: 'primary', size:'large'},
			{text:'测试', type: 'primary', size:'large', icon:'st-iconfont st-icon-eye'},
			{text:'测试', type: 'primary',},
			{text:'测试', type: 'primary', icon:'st-iconfont st-icon-eye'},
			{text:'测试', type: 'success', size:'small'},
			{text:'测试', type: 'success', size:'small', icon:'st-iconfont st-icon-eye'},
			{text:'测试', type: 'danger'},
			{text:'测试', type: 'danger', icon:'st-iconfont st-icon-lock'},
			{text:'测试', type: 'info'},
			{text:'测试', type: 'info', icon:'st-iconfont st-icon-lock'},
			{text:'测试', type: 'warning'},
			{text:'测试', type: 'warning', icon:'st-iconfont st-icon-lock'},
			{text:'测试', type: 'link'}
		],
		updateUrl: '/',
		addUrl: '/',
		batDeleteUrl: '/',
		idIndex: 'id',
		deleteUrl: '/ajaxDel',
		downloadable: true,
		editConfig: [
			{
				name: 'name',
				label: 'name'
			},
			{
				name: 'type',
				label: '影片类型',
				list: [
					{
						text: '爱情',
						value: 'type1',
						list: [
							{
								text: '爱情',
								value: 'type1',
							},
							{
								text: '悬疑',
								value: 'type2'
							},
							{
								text: '恐怖',
								value: 'type3'
							}
						]
					},
					{
						text: '悬疑',
						value: 'type2'
					},
					{
						text: '恐怖',
						value: 'type3'
					}
				],
				type: 'multiple'
			}
		],
		params: {
			count: 50
		},
		
		componentOrder: [
			'title','tip','toolbar', 'search', 'table','pagination'
		]
	});
	</script>
</body>
</html>