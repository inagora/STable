(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{148:function(t,a,s){"use strict";s.r(a);var n=s(0),_=Object(n.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"content"},[s("h1",{attrs:{id:"列宽设定"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#列宽设定","aria-hidden":"true"}},[t._v("#")]),t._v(" 列宽设定")]),t._v(" "),s("p",[t._v("STable的每一列显示它多宽，是由它的width和flex两个参数决定的。")]),t._v(" "),s("ul",[s("li",[t._v("绝对宽度，最简单的，给列设置一个"),s("code",[t._v("width")]),t._v("参数，它声明了此列的宽度")]),t._v(" "),s("li",[t._v("比例宽度，设置一个"),s("code",[t._v("flex")]),t._v("参数（一个整数），它是此列与其它列计算宽度时的权重值")])]),t._v(" "),s("p",[t._v("例如：")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("STable"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("init")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\tcolumns"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n\t\t"),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("header"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v("'列1'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" width"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("100")]),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t"),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("header"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v("'列2'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" flex"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("3")]),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t"),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("header"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v("'列3'")]),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t"),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("header"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v("'列4'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" width"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("200")]),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t"),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("header"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v("'列5'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" flex"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("2")]),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t"),s("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("配置了5列，其中列3没有指定width和flex参数，STable会默认为它加上"),s("code",[t._v("flex: 1")]),t._v("参数。这样列1、列4通过绝对宽度width设置宽度，列2、3、5能过列宽比列flex决定宽度。")]),t._v(" "),s("p",[t._v("列宽的计算逻辑是：")]),t._v(" "),s("ol",[s("li",[t._v("先计算STable容器的宽度为 "),s("code",[t._v("totalWidth")]),t._v("，比如STable区域为1000；")]),t._v(" "),s("li",[t._v("计算指定了绝对宽度的列的宽度和 "),s("code",[t._v("abstractTotalWidth")]),t._v("，比如上例中为"),s("code",[t._v("100+200=300")]),t._v("；")]),t._v(" "),s("li",[t._v("计算比例总和 "),s("code",[t._v("totalFlex")]),t._v("，例子中为"),s("code",[t._v("3+1+2=6")])]),t._v(" "),s("li",[t._v("容器宽度 - 绝对列宽和 = 可分配给比例列的总宽度("),s("code",[t._v("flexTotalWidth")]),t._v(")，比如上例中为"),s("code",[t._v("1000-300=700")])]),t._v(" "),s("li",[t._v("指定了flex列，按比例分配宽度，分别为"),s("code",[t._v("3/6*700=350")]),t._v("、"),s("code",[t._v("1/6*700=116")]),t._v("、"),s("code",[t._v("2/6*700=233")])])]),t._v(" "),s("p",[t._v("所以，最后各列的宽度为100、350、116、200、233。")]),t._v(" "),s("p",[t._v("有一些特殊情况：")]),t._v(" "),s("ul",[s("li",[t._v("绝对列宽和 超过了 容器宽度，即 abstractTotalWidth > totalWidth。此时就会显示横向滚动条，滚动显示后面所有的列。")]),t._v(" "),s("li",[t._v("所有列都指定了width，并且 绝对列宽和 小于 容器宽度，即 abstractTotalWidth < totalWidth。因为没有指定比例列宽，没有列可以把剩余的宽度占满，STable会在最后补加一个空白列(padding)，以填宽容器区。")]),t._v(" "),s("li",[t._v("指定了flex比例的列，计算后宽度很小，甚至可能会小于比，比如第一种特殊情况下。所以比例列宽计算了，会检查计算的宽度是不是小于最小宽度（"),s("code",[t._v("MIN_COLUMN_WIDTH")]),t._v("），如果是，设置为最小宽度。现在最小宽度是100。")]),t._v(" "),s("li",[t._v("如果设置了比例参数flex，就可以设置额外两个参数minWidth和maxWidth，通过flex计算出来的宽度，会用这两个参数限制。")])])])}],!1,null,null,null);_.options.__file="column_width.md";a.default=_.exports}}]);