(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{160:function(t,s,a){"use strict";a.r(s);var n=a(0),e=Object(n.a)({},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"content"},[t._m(0),t._v(" "),t._m(1),t._v(" "),a("p",[t._v("STable配置中最重要的一个参数是url，通过它请求表格数据；发送请求时会带上页号、排序、每页显示条数及搜索参数。")]),t._v(" "),t._m(2),a("p",[t._v("上例中，数据请求地址为")]),t._v(" "),t._m(3),a("p",[t._v("请求有两个参数有两个")]),t._v(" "),t._m(4),a("ul",[a("li",[t._v("page参数指名当前请求第1页的数据。通过在配置参数中改变"),a("router-link",{attrs:{to:"/config/#params"}},[t._v("params.page")]),t._v("的值，可以修改打开页面时默认显示哪一页")],1),t._v(" "),a("li",[t._v("count参数指定一个页面有多少条数据。通过在配置参数中改变"),a("router-link",{attrs:{to:"/config/#params"}},[t._v("params.count")]),t._v("的值，可以指定请求参数count的值。")],1)]),t._v(" "),t._m(5),a("p",[t._v('🎩然后我们点击列头"价格"，表格会按价格排序，这时候的请求参数为')]),t._v(" "),t._m(6),a("ul",[a("li",[t._v("sort_key参数表明需要的数据要以final_price字段排序。通过在配置参数中改变"),a("router-link",{attrs:{to:"/config/#sortkey"}},[t._v("sortKey")]),t._v("的值，可以指定默认打开时的排序字段。")],1),t._v(" "),a("li",[t._v("sort_direction参数表明以升序排序。通过在配置参数中改变"),a("router-link",{attrs:{to:"/config/#sortdirection"}},[t._v("sortDirection")]),t._v("的值，可以指定默认打开时的排序方向。")],1)]),t._v(" "),t._m(7),t._v(" "),t._m(8),t._v(" "),a("p",[t._v("服务端返回的数据格式为Json，结构如下：")]),t._v(" "),t._m(9),t._m(10)])},[function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"请求和应答数据格式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#请求和应答数据格式","aria-hidden":"true"}},[this._v("#")]),this._v(" 请求和应答数据格式")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"request"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#request","aria-hidden":"true"}},[this._v("#")]),this._v(" request")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("STable"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("init")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\ttitle"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'分页和排序'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\turl"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'/ajaxList'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\tcolumns"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\ttext"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'商品名'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\tdataIndex"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'goods_name'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\tflex"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("1")]),t._v("\n\t"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\ttext"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'价格'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\tdataIndex"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'final_price'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\tsortable"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n\t"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v("http://[your domain]/ajaxList\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v("page: 1\ncount: 20\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("STable"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("init")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\turl"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'/ajaxlist'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\tparams"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\tpage"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("10")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\t"),a("span",{attrs:{class:"token comment"}},[t._v("//默认显示第10页")]),t._v("\n\t\tcount"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("20")]),t._v("\t"),a("span",{attrs:{class:"token comment"}},[t._v("//一页显示20条数据")]),t._v("\n\t"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v("page: 1\ncount: 20\nsort_key: final_price\nsort_direction: ASC\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("下面是一个请求的截图\n"),s("img",{attrs:{src:"https://s2.wandougongzhu.cn/s/be/param_fbc10a.png",alt:"请求格式"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"response"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#response","aria-hidden":"true"}},[this._v("#")]),this._v(" response")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\terrno"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("0")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\t"),a("span",{attrs:{class:"token comment"}},[t._v("//数字，errno为0表示正常返回数据，否则表示有错误发生")]),t._v("\n\terrmsg"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("''")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\t"),a("span",{attrs:{class:"token comment"}},[t._v("//字符串，有错误发生时的错误描述")]),t._v("\n\tdata"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\tpage"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("1")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\t"),a("span",{attrs:{class:"token comment"}},[t._v("//数字，当前返回的是第几页的数据")]),t._v("\n\t\tpage_count"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("13")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\t"),a("span",{attrs:{class:"token comment"}},[t._v("//数字，总共有多少页数据")]),t._v("\n\t\tlist"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\t"),a("span",{attrs:{class:"token comment"}},[t._v("//数组，当前页所有行的数据")]),t._v("\n\t\t\t"),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\t"),a("span",{attrs:{class:"token comment"}},[t._v("//对应每一行的数据")]),t._v("\n\t\t\t\tname"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"hacci"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t\t\tdiscount"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("9.5")]),t._v("\n\t\t\t"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t\t"),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{attrs:{class:"token operator"}},[t._v("...")]),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t\t"),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\t"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("比如下图就是一个正常数据的截图\n"),s("img",{attrs:{src:"https://s3.wandougongzhu.cn/s/9b/data_ddaa2a.gif",alt:"数据格式"}})])}],!1,null,null,null);e.options.__file="request.md";s.default=e.exports}}]);